{% extends 'base.html' %}
{% load static %}

{% block title %}AtlantaFoodFinder - Discover Atlanta's Best Restaurants{% endblock %}

{% block content %}
<section class="hero">
    <div class="hero-content">
        <h1>Discover Atlanta's Best Eats</h1>
        <form class="hero-search" action="{% url 'search_results' %}" method="get">
            <input type="text" name="q" placeholder="Search for restaurants or cuisines...">
            <select name="cuisine">
                <option value="">All Cuisines</option>
                {% for cuisine in cuisines %}
                <option value="{{ cuisine.id }}">{{ cuisine.name }}</option>
                {% endfor %}
            </select>
            <button type="submit"><i class="fas fa-search"></i> Find Food</button>
        </form>
    </div>
</section>

<section class="map-section">
    <div class="container">
        <h2>Explore Restaurants in Atlanta</h2>
        <div id="map"></div>
    </div>
</section>

<section class="featured-restaurants">
    <div class="container">
        <h2>Top Rated Restaurants</h2>
        <div class="restaurant-grid">
            {% for restaurant in top_restaurants %}
            <div class="restaurant-card" data-lat="{{ restaurant.latitude }}" data-lng="{{ restaurant.longitude }}">
                <img src="{{ restaurant.image.url }}" alt="{{ restaurant.name }}">
                <div class="restaurant-card-content">
                    <h3>{{ restaurant.name }}</h3>
                    <p><strong>Cuisine:</strong> {{ restaurant.cuisine }}</p>
                    <p><strong>Rating:</strong> {{ restaurant.rating }} ⭐</p>
                    <p><strong>Address:</strong> {{ restaurant.address }}</p>
                    <p><strong>Hours:</strong> {{ restaurant.opening_hours }}</p>
                    <a href="{% url 'restaurant_detail' restaurant.id %}" class="btn-view">View Details</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/home.js' %}"></script>
{% endblock %}