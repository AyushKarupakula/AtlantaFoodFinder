<!-- search_results.html -->
{% extends 'base.html' %}

{% block content %}
<h1>Search Results for "{{ query }}"</h1>

<!-- Display the number of restaurants found -->
<p>Number of restaurants found: {{ restaurants|length }}</p>

<!-- Display the list of restaurants if any are found -->
{% if restaurants %}
    <ul>
    {% for restaurant in restaurants %}
        <li>
            <h2>{{ restaurant.name }}</h2>
            <p>Address: {{ restaurant.vicinity }}</p>  <!-- Use `vicinity` for address from API response -->
            {% if restaurant.rating %}
                <p>Rating: {{ restaurant.rating }}</p>
            {% endif %}
            
            <!-- Link to detailed view using the place_id and passing query parameters -->
            <a href="{% url 'restaurant_detail' restaurant.place_id %}?q={{ query }}&cuisine={{ selected_cuisine }}">View Details</a>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>No restaurants found matching your criteria.</p>
{% endif %}

{% endblock %}
